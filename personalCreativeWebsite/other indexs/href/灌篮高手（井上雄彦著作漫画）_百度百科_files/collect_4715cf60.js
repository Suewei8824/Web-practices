F.module("/static/lemma/ui/view/collect/collect.js",function(d,b){var c=d("/static/common/lib/tangram/base/base.js");var a=d("/static/common/ui/nslog/nslog.js");d("/static/common/ui/userlogin/userlogin.js");c("#collectBtn").click(function(e){if(!window.curUser){userlogin()}else{if(!c(this).hasClass("collectflag")){c.get("/api/usercenter/addfavorites?lemmaId="+baikeViewInfo.newLemmaId+"&tk="+baikeViewInfo.collectTK,function(g){if(g.errno==0){c("#collectBtn").addClass("collectflag");c("#collectBtn .collect_txt").text("\u5df2\u6536\u85cf");c("#topToolbar .topshoucangbtn").removeClass("topshoucang").addClass("topshoucangset").addClass("topshoucangflag")}});a(location.href,9122)}else{if(c(this).hasClass("collectflag")){var f=c(e.target);if(!f.hasClass("collect_txt")&&!f.hasClass("collect_icon")){return}c.get("/api/usercenter/delfavorites?lemmaId="+baikeViewInfo.newLemmaId+"&tk="+baikeViewInfo.collectTK,function(g){if(g.errno==0){c("#collectBtn .collect-tip").hide();c("#collectBtn").removeClass("collectflag");c("#collectBtn .collect_txt").text("\u6536\u85cf");c("#topToolbar .topshoucangbtn").addClass("topshoucang").removeClass("topshoucangset-hover").removeClass("topshoucangset").removeClass("topshoucangflag")}})}}}});c("#collectBtn").mouseover(function(){if(c(this).hasClass("collectflag")){c(".collect-tip",this).show()}});c("#collectBtn").mouseout(function(){if(c(this).hasClass("collectflag")){c(this).removeClass("collectover");c(".collect-tip",this).hide()}});return b},["/static/common/lib/tangram/base/base.js","/static/common/ui/nslog/nslog.js","/static/common/ui/userlogin/userlogin.js"]);